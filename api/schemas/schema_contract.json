{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Students Database Schema Contract",
  "description": "Safe, minimal schema contract for AI-driven queries on the students database",
  "version": "1.0.0",
  "database": {
    "name": "student_records",
    "type": "sqlite",
    "path": "api/db/student_records.db",
    "readonly": true
  },
  "tables": {
    "students": {
      "description": "Student demographic and academic information",
      "recordCount": 100,
      "columns": {
        "id": {
          "type": "integer",
          "sqliteType": "INTEGER",
          "nullable": false,
          "primaryKey": true,
          "autoIncrement": true,
          "description": "Unique student identifier",
          "constraints": {
            "min": 1,
            "max": null
          },
          "sampleValues": [1, 2, 3, 50, 100]
        },
        "name": {
          "type": "string",
          "sqliteType": "TEXT",
          "nullable": false,
          "description": "Student's full name",
          "constraints": {
            "maxLength": null,
            "pattern": null
          },
          "sampleValues": ["Michael Chapman", "David Baker", "Jordan Davis"]
        },
        "date_of_birth": {
          "type": "date",
          "sqliteType": "DATE",
          "nullable": true,
          "description": "Student's date of birth",
          "format": "YYYY-MM-DD",
          "constraints": {
            "minDate": null,
            "maxDate": null
          },
          "sampleValues": ["2007-07-28", "1996-10-16", "1999-01-21"]
        },
        "gender": {
          "type": "string",
          "sqliteType": "TEXT",
          "nullable": true,
          "description": "Student's gender",
          "constraints": {
            "enum": null,
            "note": "No schema-level constraints; contains values like 'Male', 'Female'"
          },
          "sampleValues": ["Male", "Female"]
        },
        "qpa": {
          "type": "number",
          "sqliteType": "REAL",
          "nullable": true,
          "description": "Quality Point Average (academic performance metric, similar to GPA)",
          "constraints": {
            "min": 0.0,
            "max": 4.0,
            "note": "Assumed range based on GPA conventions; no schema-level CHECK constraint"
          },
          "sampleValues": [3.36, 3.51, 2.85, 2.1, 3.9]
        },
        "country": {
          "type": "string",
          "sqliteType": "TEXT",
          "nullable": true,
          "description": "Student's country",
          "constraints": {
            "enum": null,
            "note": "No schema-level constraints; free-form text"
          },
          "sampleValues": ["Canada", "Brazil", "France", "USA", "India"]
        }
      },
      "indexes": [
        {
          "name": "PRIMARY",
          "columns": ["id"],
          "unique": true,
          "type": "PRIMARY KEY"
        }
      ],
      "foreignKeys": [],
      "checkConstraints": []
    }
  },
  "relationships": [],
  "security": {
    "readOnly": true,
    "allowedOperations": ["SELECT"],
    "disallowedOperations": ["INSERT", "UPDATE", "DELETE", "DROP", "CREATE", "ALTER", "TRUNCATE"],
    "notes": "Database is opened in readonly mode. AI should NEVER generate write operations."
  },
  "metadata": {
    "generatedAt": "2026-01-23",
    "purpose": "Schema contract for AI-driven natural language query system",
    "validationLevel": "minimal",
    "notes": [
      "Schema has minimal constraints at database level",
      "Application-level validation recommended for data quality",
      "All queries must be SELECT-only (readonly mode)",
      "NULL values possible in all columns except id and name"
    ]
  }
}
